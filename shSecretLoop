--// CONFIGURACI√ìN
_G.tplayer = "Habbathehut" -- üëà pon tu nick principal aqu√≠
getgenv().loopgoto = true

--// SERVICIOS
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser")
local player = Players.LocalPlayer

--// DISTRIBUCI√ìN EN C√çRCULO ‚ö°Ô∏è
local totalSlots = 5 -- üëà N√∫mero de cuentas que usas
local function getCircleOffset(index, total, radius)
    local angle = (2 * math.pi / total) * index
    return Vector3.new(math.cos(angle) * radius, 0, math.sin(angle) * radius)
end

-- √≠ndice √∫nico para cada cuenta (usa UserId como semilla)
local myIndex = (player.UserId % totalSlots) + 1
local myOffset = getCircleOffset(myIndex, totalSlots, 6) -- 6 = radio del c√≠rculo

--// NO COLISIONES
local function NoCollideCharacter(char)
	for _, part in pairs(char:GetDescendants()) do
		if part:IsA("BasePart") then
			part.CanCollide = false
		end
	end
	char.DescendantAdded:Connect(function(part)
		if part:IsA("BasePart") then
			part.CanCollide = false
		end
	end)
end
player.CharacterAdded:Connect(NoCollideCharacter)
if player.Character then
	NoCollideCharacter(player.Character)
end

--// MOVIMIENTO SUAVE Y ANTI-BUG ‚ö°Ô∏è
local function smoothMove(root, targetPos)
    local dist = (root.Position - targetPos.Position).Magnitude
    local alpha = math.clamp(0.2 + (dist / 50), 0.2, 0.8) -- din√°mico
    root.CFrame = root.CFrame:Lerp(targetPos, alpha)
end

--// LOOP AUTO FOLLOW
task.spawn(function()
	while getgenv().loopgoto do
		RunService.Heartbeat:Wait()
		pcall(function()
			local target = Players:FindFirstChild(_G.tplayer)
			if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
				local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
				if root then
					local targetPos = target.Character.HumanoidRootPart.CFrame * CFrame.new(myOffset)
					smoothMove(root, targetPos)
				end
			end
		end)
	end
end)

--// ANTI AFK
player.Idled:Connect(function()
	VirtualUser:Button2Down(Vector2.new(), workspace.CurrentCamera.CFrame)
	task.wait(1)
	VirtualUser:Button2Up(Vector2.new(), workspace.CurrentCamera.CFrame)
end)
			for _, v in pairs(workspace:GetDescendants()) do
				if v:IsA("ParticleEmitter") or v:IsA("Trail") then
					v:Destroy()
				elseif v:IsA("Decal") or v:IsA("Texture") then
					v:Destroy()
				elseif v:IsA("Sound") then
					v:Stop()
				end
			end
			-- Baja calidad gr√°fica
			settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
			workspace.GlobalShadows = false
			workspace.ExtentsCullingEnabled = true
			-- Opcional: apaga la iluminaci√≥n
			game:GetService("Lighting").GlobalShadows = false
		end)
	end
end)
